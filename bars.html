<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Bouncing Emoji</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&family=Special+Gothic+Expanded+One&display=swap');

    /* reset and full-viewport */
    html,
    body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;

    }

    selector {
      cursor: none;
    }

    body {
      position: relative;
      font-family: 'Roboto', "Noto Color Emoji", sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100%;
    }

    .text,
    .clock,
    .format {
  text-shadow: 0 0 6px #000;
    }

    /* inline SVG full-background */
    .svgBackground {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: -1;
      object-fit: cover;
    }

    .container {
      text-align: center;
      margin-top: 50px;
    }

    .text {
      font-size: 6rem;
      color: white;
      margin: 0;
    }

    .clock {
      font-size: 5rem;
      font-weight: bold;
      color: white;
      margin: 0.5em 0;
    }

    .format {
      font-size: 2.5rem;
      color: white;
      margin: 0;
    }

    /* bouncing emoji optimized */
    #bouncingImg {
      position: fixed;
      left: 0;
      top: 0;
      will-change: transform;
      transform: translate3d(0, 0, 0);
      contain: layout paint;
      pointer-events: none;
font-size: 80px;

    }
  </style>
</head>

<body>
  <img class="svgBackground"
    src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/SMPTE_Color_Bars_16x9.svg/1920px-SMPTE_Color_Bars_16x9.svg.png">

  <div class="container">
    <p class="text">HELLO WORLD</p>
    <div id="time" class="clock">00:00:00</div>
    <p class="format">1080p59.94</p>
  </div>

  <div id="bouncingImg">ðŸ¤–</div>

  <script>
    // URL params override (do once)
    const params = new URLSearchParams(location.search);
    const textEl = document.querySelector(".text");
    const formatEl = document.querySelector(".format");
    const timeEl = document.getElementById("time");
    const bouncingElem = document.getElementById("bouncingImg");

    if (params.has("text")) textEl.textContent = decodeURIComponent(params.get("text"));
    if (params.has("format")) formatEl.textContent = decodeURIComponent(params.get("format"));
    if (params.has("emoji")) bouncingElem.textContent = decodeURIComponent(params.get("emoji"));

    const velocity = 400; // px/sec
    let compW = 0, compH = 0;
    let spriteW = 80, spriteH = 80;
    let maxX = 0, maxY = 0;

    function recalcBounds() {
      compW = window.innerWidth;
      compH = window.innerHeight;

      // offsetWidth/Height forces layout, so ONLY do this on resize/emoji change
      spriteW = bouncingElem.offsetWidth;
      spriteH = bouncingElem.offsetHeight;

      maxX = Math.max(0, compW - spriteW);
      maxY = Math.max(0, compH - spriteH);
    }

    function bounce(distance, max) {
      if (max <= 0) return 0;
      const period = max * 2;
      let m = distance % period;
      if (m < 0) m += period;
      return (m <= max) ? m : (period - m);
    }

    function animate(ts) {
      const t = ts * 0.001;       // seconds
      const d = t * velocity;     // px travelled
      const x = bounce(d, maxX);
      const y = bounce(d, maxY);

      // integer pixels = cheaper + less shimmer
      bouncingElem.style.transform = `translate3d(${x | 0}px, ${y | 0}px, 0)`;
      requestAnimationFrame(animate);
    }

    function updateClockAligned() {
      const now = new Date();
      timeEl.textContent = now.toLocaleTimeString("en-US", {
        hour12: false, hour: "2-digit", minute: "2-digit", second: "2-digit",
      });

      // update exactly on the next second boundary (less repaint jitter)
      setTimeout(updateClockAligned, 1000 - now.getMilliseconds());
    }

    window.addEventListener("load", () => {
      recalcBounds();
      updateClockAligned();
      requestAnimationFrame(animate);
    });

    window.addEventListener("resize", () => {
      recalcBounds();
    }, { passive: true });
  </script>

</body>

</html>